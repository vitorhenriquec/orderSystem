<!DOCTYPE html>
<html lang="pt-br" ng-app="appOrderSystem">
	<head>
		<meta charset="UTF-8"/>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<title>Order System</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"></link>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.7/angular.min.js" type="text/javascript"></script>
		<script src="./js/app.js"></script>
	</head>
	<body ng-controller="produtoController">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="/">Order System</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			  <span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
			  <ul class="navbar-nav">
			    <li class="nav-item active">
			      <a class="nav-link" href="/restaurante">Restaurante</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/funcionario">Funcionários</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/produto">Produtos</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/mesa">Mesas</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/cardapio">Cardápio</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/todosPedidos">Pedidos</a>
			    </li>
			  </ul>
			</div>
		</nav>
		<div ng-if="error">
			<div class="alert alert-danger alert-dismissible fade show" role="alert">
			  <span ng-bind="error">{{error}}</span>
			  <button ng-if="error" type="button" class="close" data-dismiss="alert" aria-label="Close">
			    <span aria-hidden="true">&times;</span>
			  </button>
			</div>	
		</div>
		<div ng-if="success">
			<div class="alert alert-success alert-dismissible fade show" role="alert">
			  <span>Produto salvo com sucesso!</span>
			  <button ng-if="success" type="button" class="close" data-dismiss="alert" aria-label="Close">
			    <span aria-hidden="true">&times;</span>
			  </button>
			</div>	
		</div>
		<div class="container mt-5">
			<h3 class="bg-secondary text-white shadow rounded p-2">Salvar Produto</h3>
			<div class="justify-content-center shadow rounded p-4 pt-5">
				<form >
					<div class="form-group">
						<label class="control-label col-sm-2" for="nomeProduto">Nome do produto:</label>
						<div class="col-sm-5">
							<input type="text" class="form-control" id="nomeProduto" required="required" ng-model="produto.nome"/>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-2" for="precoProduto">Preço do produto:</label>
						<div class="col-sm-2">
							<input type="text" class="form-control" id="precoProduto" required="required" ng-model="produto.preco"/>
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-10">
							<input type="button" value="Salvar" class="btn btn-primary" ng-click="salvarProduto()"/>
							<input type="button" value="Cancelar" class="btn btn-primary" ng-click="cancelar()"/>
						</div>
					</div>
				</form>
			</div>
		</div>
		<div class="container mt-5">
			<h3 class="bg-secondary text-white shadow rounded p-2">Listagem de Produtos</h3>
			<div class="justify-content-center shadow rounded p-4 pt-5">
				<table class="table table-striped">
					<thead>
					    <tr>
					        <th>Nome</th>
					        <th>Preço</th>
					        <th></th>
					    </tr>
					</thead>
					<tbody ng-repeat="pro in produtos">
					    <tr>
					       	<td>{{pro.nome}}</td>
					        <td>{{pro.preco}}</td>
					        <td>
					        	<button class="btn btn-primary float-right" ng-click="removerProduto(pro.id)">Remover</button>
					        	<button class="btn btn-primary float-right mr-2" ng-click="alterarProduto(pro)">Alterar</button>
					        </td>
					    </tr>
					</tbody>
				</table>
			</div>
		</div>
	</body>
</html>